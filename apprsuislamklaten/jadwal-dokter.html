<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta content="#AEF2D2" name="theme-color" />
    <meta content="rsu islam klaten, rsi klaten, rs klaten, rumah sakit klaten, jadwal dokter klaten"
        name="description" />
    <meta content="https://twitter.com/eestehh" name="author" />
    <meta name="csrf-token" content="KodjIdsYxxb34RsZwYLfIlNEjwxJb9d91lPrUFrJ" />
    <link rel="icon" href="/image/icon-rsi.png" type="image/icon type">
    <title>RSU ISLAM KLATEN</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://apps.rsuislamklaten.co.id/css/app.css">
    <script src="https://apps.rsuislamklaten.co.id/js/app.js"></script>
</head>

<body>
    <div class="text-center mb-5 pt-3">
        <img src="https://apps.rsuislamklaten.co.id/image/rsiklaten.png" alt="RSU ISLAM KLATEN" style="height: 5rem"
            class="mb-3">
        <h5 class="text-muted">Ramah Amanah Profesional Islami</h5>
    </div>
    <div class="container-lg">
        <div class="row">
            <div class="col-md-12">
                <div class="card shadow">
                    <div class="card-header">
                        <a href="https://apps.rsuislamklaten.co.id" class="text-decoration-none text-reset"><i
                                class="fas fa-arrow-left mr-1"></i></a>
                        Jadwal
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <p class="m-0 text-muted font-weight-bold"><b>Keterangan</b></p>
                            <ul class="px-3" style="font-size: 0.9rem;">
                                <li>Jadwal Kamis, 13 Mar 2025 sd Rabu, 19 Mar 2025</li>
                                <li>Untuk booking jadwal silahkan klik <a
                                        href="https://apps.rsuislamklaten.co.id/identitas-pasien-lama"
                                        class="badge badge-success"> link ini</a></li>
                                <li>Jika ada pertanyaan silahkan hubungi 0815-6733-270 atau klik <a
                                        href="https://api.whatsapp.com/send?phone=628156733270&text=Assalamualaikum%20wr%20wb%20Customer%20Service%20RSU%20Islam%20Klaten"
                                        class="badge badge-success"> link ini</a> </li>
                            </ul>
                        </div>
                        <div class="form-group">
                            <label for="" class="font-weight-bold text-muted">Poliklinik</label>
                            <select class="form-control" id="poli">
                                <option value=""></option>
                                <option value="A001">BIDAN</option>
                                <option value="AKU">AKUPUNTUR</option>
                                <option value="B001">BEDAH DIGESTIF</option>
                                <option value="B002">BEDAH ANAK</option>
                                <option value="B003">BEDAH TULANG</option>
                                <option value="B004">BEDAH UROLOGI</option>
                                <option value="B005">BEDAH UMUM</option>
                                <option value="B006">BEDAH PLASTIK</option>
                                <option value="B007">BEDAH MINOR</option>
                                <option value="B008">KEMOTERAPI</option>
                                <option value="BML">BEDAH MULUT</option>
                                <option value="BSYR">BEDAH SYARAF</option>
                                <option value="BTHR">BEDAH THORAX KARDIOVASKULAR</option>
                                <option value="CJH">CALON JAMAAH HAJI</option>
                                <option value="DOTS">DOTS</option>
                                <option value="EEG">EEG</option>
                                <option value="EKG">EKG</option>
                                <option value="F001">FISIOTERAPI</option>
                                <option value="F002">OKUPASI TERAPI</option>
                                <option value="F003">TERAPI WICARA</option>
                                <option value="G00Z">GIZI</option>
                                <option value="GCU">MEDICAL CHECK UP</option>
                                <option value="HD">HEMODIALISIS</option>
                                <option value="HOMC">HOMECARE</option>
                                <option value="IMD">IMD</option>
                                <option value="INT">INTERVENSI</option>
                                <option value="K002">OBSGYN</option>
                                <option value="KB">KB</option>
                                <option value="KSG">KONSERVASI GIGI</option>
                                <option value="L001">LABORATORIUM</option>
                                <option value="L002">LABORATORIUM ANTIGEN COVID-19</option>
                                <option value="L003">LABORATORIUM PCR COVID-19</option>
                                <option value="ODC">ODC</option>
                                <option value="ORTH">ORTHODONTI</option>
                                <option value="P001">PARU-PARU</option>
                                <option value="P002">ANAK</option>
                                <option value="P003">PENYAKIT DALAM LT1</option>
                                <option value="P004">GIGI</option>
                                <option value="P005">PSIKOLOGI</option>
                                <option value="P006">PSIKIATRI</option>
                                <option value="P007">KULIT &amp; KELAMIN</option>
                                <option value="P008">MATA</option>
                                <option value="P009">THT</option>
                                <option value="P00Z">POLIKLINIK GIZI</option>
                                <option value="P010">NEUROLOGI</option>
                                <option value="P011">JANTUNG</option>
                                <option value="P013">PENYAKIT DALAM LT2</option>
                                <option value="P014">DALAM EKSEKUTIF</option>
                                <option value="P015">ANAK EKSEKUTIF</option>
                                <option value="P016">BEDAH EKSEKUTIF</option>
                                <option value="P017">NEUROLOGI EKSEKUTIF</option>
                                <option value="P018">OBSGYN EKSEKUTIF</option>
                                <option value="P019">IMD EKSEKUTIF</option>
                                <option value="P020">BEDAH ANAK EKSEKUTIF</option>
                                <option value="P021">JANTUNG EKSEKUTIF</option>
                                <option value="P022">MATA EKSEKUTIF</option>
                                <option value="P023">POLI GERIATRI</option>
                                <option value="P024">PSIKIATRI - EKSEKUTIF</option>
                                <option value="P025">KLINIK NYERI</option>
                                <option value="P026">KLINIK CAPD</option>
                                <option value="P027">KEDOKTERAN GIGI ANAK</option>
                                <option value="P028">GIGI EKSEKUTIF</option>
                                <option value="P401">DALAM MAKKAH</option>
                                <option value="P402">NEUROLOGI MAKKAH</option>
                                <option value="P403">BEDAH MAKKAH</option>
                                <option value="P404">OBSGYN MAKKAH</option>
                                <option value="PDP">POLI PDP</option>
                                <option value="PNEK">PONEK UGD</option>
                                <option value="PRI">PERIODONSIA</option>
                                <option value="PRS">PROSTODONSIA</option>
                                <option value="R001">RADIOLOGI</option>
                                <option value="RHMD">REHAB MEDIK</option>
                                <option value="RPG">RAWAT PANGGIL</option>
                                <option value="SKCR">SKIN CARE</option>
                                <option value="TKI">TKI</option>
                                <option value="UGD">GAWAT DARURAT</option>
                                <option value="UMEK">UMUM EKSEKUTIF</option>
                                <option value="UMUM">UMUM</option>
                                <option value="V001">POLI VAKSIN</option>
                                <option value="VCT">VCT</option>
                                <option value="ZERO">SOFTWARE DEVELOPMENT</option>
                                <option value="PRSE">PROSTODONSI EKSEKUTIF</option>
                            </select>
                        </div>
                        <p class="text-muted font-weight-bold">Jadwal</p>
                        <div id="wrap_jadwal" class="row">
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="text-center mt-4">
        <p class="font-weight-bold text-white-50" style="font-size: 0.7rem">2022 - 2025 &#169; RSU ISLAM KLATEN</p>
    </div>

    <script type="text/javascript">
        $(".my-select2-nc").select2({
            placeholder: '',
            theme: 'bootstrap4',
            allowClear: false
        })
    </script>
    <script type="text/javascript">
        const jadwal = (function ($) {
            $(document).ready(e => {
                getJadwal()

            })
            $("#poli").select2({
                placeholder: 'Poliklinik',
                allowClear: true,
                theme: 'bootstrap4'
            })
            $("#poli").change(e => {
                let poli = $("#poli").val()
                getJadwal(poli)
            })
            function getJadwal(poli = '') {
                $.ajax({
                    method: 'GET',
                    dataType: 'JSON',
                    url: window.origin + '/api/jadwal/show-by-poli/' + poli,
                    beforeSend(xhr) {
                        $("#wrap_jadwal").html(`<div class="col-md-12">
                                            <div class="card">
                                                <div class="card-body">Loading ...
                                                </div>
                                            </div>
                                        </div>`)
                    },
                    success: function (result) {
                        let html = ""
                        if (result.data.jadwal.length > 0) {
                            result.data.jadwal.forEach(dokter => {
                                html += `<div class="col-md-6">
                                            <div class="card my-2 mx-2">
                                                <div class="card-body">
                                                    <div class="">
                                                        <h6 class="font-weight-bold text-center text-muted">${dokter.dokter_nama}</h6>
                                                        <p class="font-weight-bold text-center text-muted" style="font-size: 0.8rem">${dokter.poli_nama}</p>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-5 mb-3">
                                                            <img src="${dokter.dokter_image}?v=1.0.0" class="image-thumbnail shadow rounded d-block my-auto mx-auto" style="height: 14rem"/>
                                                        </div>
                                                        <div class="col-md-7">
                                                            <table class="table table-sm" style="font-size: 0.7rem">
                                                                <thead>
                                                                    <tr>
                                                                        <th colspan=2>Jadwal</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                    `
                                dokter.hari.forEach(hari => {
                                    html += `
                                            <tr>
                                                <td>${hari.hari}</td>
                                                <td>
                                        `
                                    if (hari.jadwal.length > 0) {
                                        let jam = ""
                                        hari.jadwal.forEach((jadwal, i) => {
                                            jam = `
                                                ${jadwal.jam_mulai.substring(0, 5)} - ${jadwal.jam_selesai.substring(0, 5)} (${jadwal.waktu})
                                            `
                                            if (i >= 1) {
                                                html += `</br>`
                                            }
                                            if (jadwal.aktif == "jadwal belum dibuat") {
                                                html += `<s> ${jam} </s> <span class="badge badge-dark">belum dibuat</span> `
                                            } else if (jadwal.aktif == 0) {
                                                html += `<s> ${jam} </s> <span class="badge badge-dark">izin</span> `
                                            } else if (jadwal.kuota <= 0) {
                                                html += `<s> ${jam} </s> <span class="badge badge-dark">kuota habis</span> `
                                            } else {
                                                html += jam
                                            }
                                        })
                                    } else {
                                        html += `-`
                                    }

                                    html += `</td></tr>`

                                })

                                html += `
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                                `
                            })
                        } else {
                            html = ` <div class="col-md-12">
                                            <div class="card">
                                                <div class="card-body">Data tidak ditemukan
                                                </div>
                                            </div>
                                        </div>`
                        }
                        $("#wrap_jadwal").html(html)
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        $("#wrap_jadwal").html(`<div class="col-md-12">
                                            <div class="card">
                                                <div class="card-body">Data tidak ditemukan
                                                </div>
                                            </div>
                                        </div>`)
                        // toastr.error(jqXHR.responseJSON?.metadata?.message || jqXHR.statusText)
                    },
                });
            }

        })(jQuery)
    </script>
</body>

</html>